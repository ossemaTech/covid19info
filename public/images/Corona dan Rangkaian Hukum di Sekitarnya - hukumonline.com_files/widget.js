'Pandamp.Core.Widget.Loader'.namespace();Pandamp.Core.Widget.Loader=function(){};Pandamp.Core.Widget.Loader.baseUrl='/';Pandamp.Core.Widget.Loader.queue=function(module,name,data,containerId,callback){Pandamp.Core.Widget.Loader.queueAction(module,name,'show',data,containerId,callback);};Pandamp.Core.Widget.Loader.queueAction=function(module,name,act,data,containerId,callback){$('#'+containerId).addClass('loading').html('');var baseUrl=Pandamp.Core.Widget.Loader.baseUrl;baseUrl=baseUrl.replace(/\/+$/,"");$.ajaxq('widget',{url:baseUrl+'/core/widget/ajax/',type:'POST',data:{mod:module,name:name,act:act,params:data},success:function(response){response=$.evalJSON(response);$('#'+containerId).removeClass('loading').html(response.content);for(var i in response.css){if($('head').find('link[href="'+response.css[i]+'"]').length==0){$('<link rel="stylesheet" type="text/css" href="'+response.css[i]+'" />').appendTo('head');}}
for(i in response.javascript){if(response.javascript[i].file!=null&&$('body').find('script[src="'+response.javascript[i].file+'"]').length==0){$('<script type="text/javascript" src="'+response.javascript[i].file+'"></script>').prependTo('body');}
if(response.javascript[i].script!=null){$('<script type="text/javascript">'+response.javascript[i].script+'</script>').prependTo('body');}}
if(callback){callback(response);}}});};